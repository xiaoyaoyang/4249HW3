{
    "contents" : "\\documentclass[11pt]{article}\n\\lstset{breaklines=true}\n<<setup, include=FALSE>>=\n    render_listings()\n@\n\n\\setlength{\\topmargin}{-.5in}\n\\setlength{\\textheight}{9in}\n\\setlength{\\oddsidemargin}{.125in}\n\\setlength{\\textwidth}{6.25in}\n\n\n\\usepackage{graphicx}\n\n\\title{Applied Data Science}\n\\author{Xiaoyao Yang\\\\ Columbia University}\n\\date{\\today}\n\n\\begin{document}\n\\maketitle\n\n\n\\section{Finding phone type}\n<<r1>>=\nrequire(stringr)\n#Problem 1\n#find type\nstrings <- paste(readLines('problem1.txt'),sep='',collapse='\\n')\nstrings <- str_replace_all(string=strings,pattern='\\n',replacement='')\ntypep <- '[a-zA-Z]{4}[:punct:][ ]*[1]?[-]?([2-9][0-9]{2})[- .]([0-9]{3})[- .]([0-9]{4})'\ntype <- unlist(str_extract_all(string=strings,pattern=typep))\ntype <- gsub(pattern=' ',replacement='',x=type)\ntype\nlength(type)\ntype_work <- str_detect(type,'work') \ntype[type_work]\nsum(type_work)\ntype_home <- str_detect(type,'home') \ntype[type_home]\nsum(type_home)\ntype_cell <- str_detect(type,'cell') \ntype[type_cell]\nsum(type_cell)\n@\n\n\\section{Extra credit:area code in parenthesis}\n<<r2>>=\n#find area code!!!!!!\nareap <- '[\\\\(]([2-9][0-9]{2})[\\\\)][ ]*([0-9]{3})[- .]([0-9]{4})'\nstr_extract_all(string=strings,pattern=areap)\n@\n\n\\section{Calculate text(also used for extra credit)}\n<<r3>>=\ndat2 <- scan('problem2.txt',character(0))\n#only used for single text input 'a+b' or '+-a-b'\n#a, b can be any number\nEvaluated <- function(textformula)\n{\n    if(!require(stringr)) require(stringr)\n    #extract number\n    test <- textformula\n    temp <- unlist(str_split(string=test,pattern='\\\\+|\\\\-'))\n    num <- as.numeric(na.omit(as.numeric(temp)))\n    if(length(num)!=2) stop('input error (must be plus or minus)')\n    #determine sign\n    temp.sign <- unlist(str_extract_all(string=test,pattern='\\\\+|\\\\-|\\\\--|\\\\++'))\n    if(sum(str_detect(temp.sign,'[-][-]|[+][-]|[-][+]|[+][+]'))) \n    {\n        return(test)\n    }\nelse \n{\n        for(i in 1:length(temp.sign))\n    {\n        if(temp.sign[i]=='--') temp.sign[i]<-'+'\n            \n    }\n\n    if (length(temp.sign)==1)\n   {\n        num[2] <- as.numeric(str_join(temp.sign,num[2]))\n        result <- sum(num)\n    }\nelse if(length(temp.sign)==2)\n{\n    num.new <- as.numeric(str_join(temp.sign,num))\n    result <- sum(num.new)\n}\nelse\n{\n    stop('input error')\n}\nreturn(result)\n}\n\n}\n\nans <- vector()\nfor(j in 1:length(dat2))\n{\n    ans[j] <- Evaluated(dat2[j])\n}\nans\n@\n\n\n\\end{document}",
    "created" : 1396926728818.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "483621664",
    "id" : "E1DBB09E",
    "lastKnownWriteTime" : 1397175693,
    "path" : "~/Google Drive/Schoolwork/2014Spring/W4249/HW4/4249HW4.Rnw",
    "project_path" : "4249HW4.Rnw",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "sweave"
}